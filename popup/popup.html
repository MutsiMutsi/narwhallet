<!DOCTYPE html>
<html lang="en" style="height: 99%;">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body style="height: auto;">
    <iframe id="sandboxFrame" src="../sandbox.html" style="display: none;"></iframe>

    <link rel="stylesheet" href="../styles/wallet.css">
    <link rel="stylesheet" href="../styles/bootstrap-icons-1.10.4/font/bootstrap-icons.css">
    <link rel="stylesheet" href="../styles/bootstrap.min.css">
    <link rel="stylesheet" href="../styles/flatty.css">

    <script src="../library/jquery.min.js"></script>
    <script src="../library/bootstrap.bundle.min.js"></script>
    <script src="../library/humane.js"></script>
    <script src="../library/qrcode.min.js"></script>

    <div class="card border-dark mb-3" style="max-width: 25rem; height: 100%;">
        <div class="card-header border-primary" style="text-align: center;">
            <h1>Narwhallet
                <img src="../images/icon-32x32.png"></img>
            </h1>
        </div>

        <div id="importBox" class="card-body" style="width: 25rem;">
            <h4>Import Wallet Seed</h4>
            <div class="input-group mb-3">
                <input type="text" class="form-control" placeholder="seed" id="seedInput">
                <button class="btn btn-outline-primary" type="button" id="importButton">Load</button>
            </div>
            <p>Leave empty to generate a new wallet</p>
        </div>

        <div id="walletBox" class="card-body" style="width: 25rem; display: none; height: auto;">
            <div class="row">
                <div class="col-8">
                    <h4>Address</h4>
                </div>
                <div class="col-4" style="text-align: right;">
                    <i id="editWalletButton" class="bi bi-chevron-expand copyValue"></i>
                </div>
            </div>
            <p class="card-text valueBox" id="address">
                Loading...
            </p>
            <h4>Balance</h4>
            <p class="card-text valueBox" id="balance">
                Loading...
            </p>


            <ul class="nav nav-tabs" role="tablist">
                <li class="nav-item" role="presentation">
                    <a class="nav-link active" data-bs-toggle="tab" href="#transfer" aria-selected="true"
                        role="tab">Transfer</a>
                </li>
                <li class="nav-item" role="presentation">
                    <a class="nav-link" data-bs-toggle="tab" href="#history" aria-selected="false" role="tab"
                        tabindex="-1">History</a>
                </li>
            </ul>
            <div id="contentTabs" class="tab-content">
                <div class="tab-pane fade active show" id="transfer" role="tabpanel">
                    <div class="row">
                        <div id="minFee" class="col-4" style="text-align: left;"></div>
                        <div id="avgFee" class="col-4" style="text-align: center;">Loading Fees</div>
                        <div id="maxFee" class="col-4" style="text-align: right;"></div>
                    </div>
                    <input id="feeRange" type="range" class="form-range" value="1" min="0" max="2">
                    <div class="inputBox">
                        <input type="text" class="form-control" placeholder="Name or Address" id="transferToAddress">
                        <div class="input-group">
                            <input type="number" class="form-control" placeholder="Amount" id="transferToAmount">
                            <button class="btn btn-outline-primary" type="button" id="sendButton">Send</button>
                        </div>
                    </div>
                </div>
                <div class="tab-pane fade" id="history" role="tabpanel">
                    <div style="width: 23rem; display: block;">
                        <div id="transactionBox" class="card border-dark transactionBox" style="max-width: 25rem;">
                            <div class="transactionRow transactionRow-initial">
                                <div class="row text-center">
                                    You have no history
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>


        <div id="editWalletBox" class="card-body" style="width: 25rem; display: none;">
            <div class="row">
                <div class="col-8">
                    <h4>Address</h4>
                </div>
                <div class="col-4" style="text-align: right;">
                    <i id="closeEditWalletButton" class="bi bi-chevron-contract copyValue"></i>
                </div>
            </div>
            <p class="card-text valueBox" id="addressDelete">
                Loading...
            </p>

            <div id="qrcode" style="display: flex;
            align-items: center;
            justify-content: center;
            margin: 16px;"></div>

            <details id="seedDetails">
                <summary>Reveal seed</summary>
            </details>
            </p>

            <button id="deleteWalletButton" class="btn btn-outline-primary">delete</button>
        </div>

        <div id="deleteWalletBox" class="card-body" style="width: 25rem; display: none;">
            <h4>Are you sure?</h4>
            <p>Make sure you have a backup of your seed!

            <div class="input-group mb-3">
                <button class="btn btn-outline-warning" type="button" id="deleteConfirmButton">Delete</button>
                <button class="btn btn-outline-primary" type="button" id="deleteCancelButton">Cancel</button>
            </div>
        </div>

        <div class="card-body" id="pageAddressBox" style="display: none;">
            <p id="connectedPage">Not connected to page</p>
        </div>

    </div>

    <script src="./popup_script.js"></script>
</body>

</html>